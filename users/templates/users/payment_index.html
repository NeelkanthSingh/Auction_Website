{% extends "blog/base.html" %}

{% block content %} 
<h1 id = "payment-heading">Payment Details</h1>

<div>
<form method="POST" id="payment-info"><br>
    {% csrf_token %}
    <input type="hidden" name="name" value={{request.user.username}}>
    <h6>Amount</h6>
    <input type="number" name="amount" id=""><br><br>
    <button type="submit">Submit</button>

</form>
</div>

{% if payment_ %}
<div id= "form-razor">
<form action="../payment_success/" method="POST" >
    <script
        src="https://checkout.razorpay.com/v1/checkout.js"
        data-key="rzp_test_SJHZ4NwBecih2i" // Enter the Test API Key ID generated from Dashboard → Settings → API Keys
        data-amount="{{payment_.amount}}" // Amount is in currency subunits. Hence, 29935 refers to 29935 paise or ₹299.35.
        data-currency="INR"//You can accept international payments by changing the currency code. Contact our Support Team to enable International for your account
        data-order_id="{{payment_.id}}"//Replace with the order_id generated by you in the backend.
        data-buttontext="Pay with Razorpay"
        data-name="AWP Corp"
        data-description="A Wild Sheep Chase is the third novel by Japanese author Haruki Murakami"
        data-image="https://example.com/your_logo.jpg"
        data-prefill.name="Gaurav Kumar"
        data-prefill.email="gaurav.kumar@example.com"
        data-theme.color="#F37254"

    ></script>
    <input type="hidden" custom="Hidden Element" name="hidden">
    </form>
</div>
    <script>
        document.getElementById("payment-heading").style.display = "none";
        document.getElementById("payment-info").style.display = "none";
        document.getElementById("form-razor").style.position = "relative";
        document.getElementById("form-razor").style.marginTop = "25%";
        document.getElementById("form-razor").style.left = "25%";
        document.getElementById("form-razor").style.right = "50%";
    </script>
{% endif %}

    <h6 id="footer">Any donation above 1 Rs can help us. Thank you.</h6>

<style>
    #footer {
   position:absolute;
   bottom:0;
   width:100%;
   height:60px;
}
</style>
{% endblock %}